<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ACAC Portal</title>
  <link rel="stylesheet" href="{% static 'css/portal.css' %}" />
</head>
<body>
  {% block content %}
  <div class="container">
    <h1 class="heading">ACAC Portal</h1>
    
    <div class="form-section">
      <label for="accNo">Acc No: {{uData.0.0}}</label>
      <label for="name">Name: {{uData.0.2}}</label>
      <label for="bal">Avil Bal: {{uData.0.5}}</label>
    </div>

    <h2 class="subheading">Services</h2>
    <h4>{{uData.1}}</h4>
    <div class="button-group">
      <button class="btn" onclick="showForm('depositForm')">Deposit</button>
      <button class="btn" onclick="showForm('withdrawForm')">Withdraw</button>
      <button class="btn" onclick="showForm('transferForm')">Transfer</button>
      <form action="{% url 'logout' %}">
        <button class="btn">Logout</button></form>
    </div>

  <!-- Deposit Form -->
  <form id="depForm" action="{% url 'deposit' %}" method="POST">
    {% csrf_token %}
<div id="depositForm" class="action-form">
  <div class="form-row">
    <label for="depositAmount">Deposit Amount:</label>
    <input type="number" id="depositAmount" name="depAmt" placeholder="Enter amount">
  </div>
  <div class="form-row">
    <button class="btn mar-20" type="submit">Confirm Deposit</button>
  </div>
</div>
</form>

<!-- Withdraw Form -->
<form id="depForm" action="{% url 'withdraw' %}" method="POST">
  {% csrf_token %}
<div id="withdrawForm" class="action-form">
  <div class="form-row">
    <label for="withdrawAmount">Withdraw Amount:</label>
    <input type="number" id="withdrawAmount" name="withAmt" placeholder="Enter amount">
  </div>
  <div class="form-row">
    <button class="btn mar-20">Confirm Withdraw</button>
  </div>
</div>
</form>

<!-- Transfer Form -->
<form id="depForm" action="{% url 'transfer' %}" method="POST">
  {% csrf_token %}
<div id="transferForm" class="action-form">
  <div class="form-row">
    <label for="transferAccount">Transfer Account:</label>
    <input type="number" id="transferaccount" name="tAccNo" placeholder="Enter Account no :"><br>
    <label for="transferAmount" class="mar-20l;;;;;;;;p45\">Transfer Amount:</label>
    <input type="number" id="transferAmount" name="tAmt"placeholder="Enter amount :">
  </div>
  <div class="form-row">
    <button class="btn mar-20">Confirm Transfer</button>
  </div>
</div>
</form>

</div>
{% endblock %}

<script>
  function showForm(formId) {
    const forms = ['depositForm', 'withdrawForm', 'transferForm'];
    forms.forEach(id => {
      const form = document.getElementById(id);
      if (id === formId) {
        form.classList.add('show');
      } else {
        form.classList.remove('show');
      }
    });
  }

  // function handleDeposit() {
  //   const amount = document.getElementById("depositAmount").value;
    
  // }

  function handleWithdraw() {
    const amount = document.getElementById("withdrawAmount").value;
    alert("Withdrawing: $" + amount);
  }

  function handleTransfer() {
    const amount = document.getElementById("transferAmount").value;
    alert("Transferring: $" + amount);
  }
</script>  

</body>
</html>
